function css(a,b){for(var c in b)a.style[c]=b[c];return a}function getColor(a,b){return"string"==typeof a?a:a[b%a.length]}function drawLines(a,b){var c=Math.round(b.corners*b.width*500)/1e3+"px",d="none";b.shadow===!0?d="0 2px 4px #000":"string"==typeof b.shadow&&(d=b.shadow);for(var e=parseBoxShadow(d),f=0;f<b.lines;f++){var g=~~(360/b.lines*f+b.rotate),h=css(document.createElement("div"),{position:"absolute",top:-b.width/2+"px",width:b.length+b.width+"px",height:b.width+"px",background:getColor(b.fadeColor,f),borderRadius:c,transformOrigin:"left",transform:"rotate("+g+"deg) translateX("+b.radius+"px)"}),i=f*b.direction/b.lines/b.speed;i-=1/b.speed;var j=css(document.createElement("div"),{width:"100%",height:"100%",background:getColor(b.color,f),borderRadius:c,boxShadow:normalizeShadow(e,g),animation:1/b.speed+"s linear "+i+"s infinite "+b.animation});h.appendChild(j),a.appendChild(h)}}function parseBoxShadow(a){for(var b=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,c=[],d=0,e=a.split(",");d<e.length;d++){var f=e[d],g=f.match(b);if(null!==g){var h=+g[2],i=+g[5],j=g[4],k=g[7];0!==h||j||(j=k),0!==i||k||(k=j),j===k&&c.push({prefix:g[1]||"",x:h,y:i,xUnits:j,yUnits:k,end:g[8]})}}return c}function normalizeShadow(a,b){for(var c=[],d=0,e=a;d<e.length;d++){var f=e[d],g=convertOffset(f.x,f.y,b);c.push(f.prefix+g[0]+f.xUnits+" "+g[1]+f.yUnits+f.end)}return c.join(", ")}function convertOffset(a,b,c){var d=c*Math.PI/180,e=Math.sin(d),f=Math.cos(d);return[Math.round(1e3*(a*f+b*e))/1e3,Math.round(1e3*(-a*e+b*f))/1e3]}var __assign=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},defaults={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},Spinner=function(){function a(a){void 0===a&&(a={}),this.opts=__assign({},defaults,a)}return a.prototype.spin=function(a){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),css(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),a&&a.insertBefore(this.el,a.firstChild||null),drawLines(this.el,this.opts),this},a.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},a}();define(function(){return Spinner});